# Azrael PRD - Master Document

**프로젝트명**: Azrael
**작성일**: 2026-01-09
**버전**: 1.0
**작성자**: L10n팀 (Claude Code 협업)

---

## 📋 문서 목적

이 문서는 Azrael 프로젝트의 전체 개요, 아키텍처, 개발 로드맵을 제공하는 마스터 문서입니다.

---

## 📚 관련 문서

- **[Azrael-PRD-Shared.md](./Azrael-PRD-Shared.md)**: 공통 데이터 구조, 용어집, 기술 스택
- **[Azrael-PRD-Phase0.md](./Azrael-PRD-Phase0.md)**: Phase 0 - 일정 계산 및 시각화 (핵심 기능)
- **[Azrael-PRD-Phase1.md](./Azrael-PRD-Phase1.md)**: Phase 1 - JIRA 연동
- **[Azrael-PRD-Phase2.md](./Azrael-PRD-Phase2.md)**: Phase 2 - 이메일 생성
- **[Azrael-PRD-Phase3.md](./Azrael-PRD-Phase3.md)**: Phase 3 - 슬랙 연동

---

## 1. 프로젝트 개요

### 1.1. 프로젝트 배경

게임 퍼블리셔의 L10n팀은 게임 업데이트 일정을 영업일 기준으로 역산하여 현지화 업무 일정을 산정합니다. 기존에는 엑셀 시트의 함수를 사용했으나, 다음과 같은 문제가 있었습니다:

- 새로운 업무 단계 추가 시 시트 업데이트 및 배포 필요
- 일정 조율 시마다 시트 수정 공수 발생
- 버전 관리 및 공유 불편

### 1.2. 프로젝트 목적

**Azrael**은 엑셀 기반 일정 계산을 웹 기반 도구로 전환하여:

- 업무 단계 추가/수정을 UI에서 직접 가능하게 함
- 계산된 일정을 테이블, 간트 차트, 캘린더로 시각화
- JIRA 일감 자동 생성, 이메일/슬랙 연동으로 업무 효율 극대화

### 1.3. 사용자 및 사용 환경

- **사용자**: L10n팀 4인
- **사용 환경**: 회사 내부 (보안 제약 낮음)
- **접근 방식**: Gmail 소셜 로그인
- **권한**: 모든 사용자 동일 권한

---

## 2. 시스템 아키텍처

### 2.1. 기술 스택 요약

| 레이어 | 기술 | 비고 |
|--------|------|------|
| **프론트엔드** | HTML, CSS, JavaScript (Vanilla 또는 React) | 클라이언트 전용 |
| **데이터 저장** | LocalStorage | 브라우저 로컬 저장소 |
| **인증** | Gmail OAuth 2.0 | 소셜 로그인 |
| **접근 제어** | 설정 파일 화이트리스트 (.env) | 4인 이메일 목록 |
| **간트 차트** | Frappe Gantt (MIT) | Zero dependencies |
| **캘린더** | Event Calendar by vkurko (MIT) | FullCalendar 호환 API |
| **이미지 복사** | html2canvas (MIT) | HTML → PNG 변환 |
| **공휴일 API** | 공공데이터포털 API | 한국천문연구원 특일정보 |

자세한 내용은 **[Azrael-PRD-Shared.md](./Azrael-PRD-Shared.md)** 참조

### 2.2. 시스템 구조

```
[사용자 브라우저]
    ↓ Gmail OAuth
[인증 레이어] → 화이트리스트 검증 (.env)
    ↓
[프론트엔드 UI]
    ├─ 프로젝트 선택
    ├─ 업데이트일 입력
    ├─ 영업일 역산 계산 ← [공휴일 데이터 (LocalStorage)]
    ├─ 테이블 출력 (3개)
    ├─ 간트 차트 (3개) ← [Frappe Gantt]
    ├─ 캘린더 뷰 ← [Event Calendar]
    └─ 설정 관리
    ↓
[LocalStorage]
    ├─ 프로젝트별 설정
    ├─ 계산 결과 (최신)
    ├─ 공휴일 목록
    └─ 사용자 상태 (마지막 프로젝트)
```

### 2.3. 데이터 흐름

1. **사용자 로그인** → Gmail OAuth → 화이트리스트 검증
2. **프로젝트 선택** → 마지막 사용 프로젝트 자동 로드 (LocalStorage)
3. **업데이트일 입력** → 영업일 역산 계산 (공휴일 제외)
4. **테이블 생성** → 업무별 시작/종료일시 계산
5. **시각화** → 간트 차트, 캘린더 자동 생성
6. **편집** → 텍스트/서식 편집 → LocalStorage 저장
7. **이미지 복사** → html2canvas → 클립보드 복사
8. **(Phase 1+)** → JIRA/이메일/슬랙 연동

---

## 3. 기능 개요

### 3.1. Phase 0: 일정 계산 및 시각화 (핵심 기능)

| 기능 | 설명 | 상태 |
|------|------|------|
| **영업일 역산 계산** | 업데이트일 기준 영업일 역산 (주말/공휴일 제외) | 🟢 명세 완료 |
| **3개 테이블 출력** | 일정표, Ext. 일정표, Int. 일정표 | 🟢 명세 완료 |
| **간트 차트** | 테이블별 간트 차트 (Frappe Gantt) | 🟢 명세 완료 |
| **캘린더 뷰** | 월간 캘린더 (Event Calendar) | 🟢 명세 완료 |
| **이미지 복사** | 테이블/차트를 PNG로 복사 (html2canvas) | 🟢 명세 완료 |
| **프로젝트 관리** | 프로젝트 추가/삭제, 설정 관리 | 🟢 명세 완료 |
| **공휴일 관리** | API 불러오기, 수동 추가/삭제 | 🟢 명세 완료 |
| **테이블 편집** | 텍스트 및 서식 직접 편집 | 🟢 명세 완료 |

자세한 내용은 **[Azrael-PRD-Phase0.md](./Azrael-PRD-Phase0.md)** 참조

### 3.2. Phase 1: JIRA 연동

| 기능 | 설명 | 상태 |
|------|------|------|
| **JIRA 일감 생성** | Epic/Task/Subtask 계층 구조 생성 | 🟡 개요만 |
| **일감 매핑** | 테이블 엔트리 → JIRA 이슈 매핑 | 🟡 개요만 |

자세한 내용은 **[Azrael-PRD-Phase1.md](./Azrael-PRD-Phase1.md)** 참조

### 3.3. Phase 2: 이메일 생성

| 기능 | 설명 | 상태 |
|------|------|------|
| **이메일 텍스트 생성** | 테이블 기반 이메일 본문 자동 생성 | 🟡 개요만 |

자세한 내용은 **[Azrael-PRD-Phase2.md](./Azrael-PRD-Phase2.md)** 참조

### 3.4. Phase 3: 슬랙 연동

| 기능 | 설명 | 상태 |
|------|------|------|
| **슬랙 메시지 발신** | 일정 공유 메시지 및 리플라이 자동 발신 | 🟡 개요만 |

자세한 내용은 **[Azrael-PRD-Phase3.md](./Azrael-PRD-Phase3.md)** 참조

---

## 4. 개발 로드맵

### 4.1. Phase 구성

```
Phase 0: 일정 계산 및 시각화 (핵심)
    ↓ 완료 후
Phase 1: JIRA 연동
    ↓ 완료 후
Phase 2: 이메일 생성
    ↓ 완료 후
Phase 3: 슬랙 연동
```

### 4.2. Phase 0 개발 우선순위

**P0 (최우선)**:
- 프로젝트 선택 및 온보딩
- 영업일 역산 계산 엔진
- 테이블 1 (일정표) 생성
- 공휴일 관리 (API 연동)

**P1 (높음)**:
- 테이블 2/3 (Ext./Int. 일정표) 생성
- 간트 차트 (Frappe Gantt 통합)
- 캘린더 뷰 (Event Calendar 통합)
- 이미지 복사 기능

**P2 (중간)**:
- 테이블 편집 기능 (텍스트 + 서식)
- 프로젝트 추가/삭제
- NC/GL, FB 2벌 설정 UI

**P3 (낮음)**:
- UI 폴리싱
- 에러 핸들링 강화

### 4.3. Phase 1-3 개발 방향

- **Phase 1-3**: Phase 0 완료 및 사용자 피드백 후 상세 설계
- **현재 상태**: 개요만 작성, 구체적인 API 명세/UI는 추후 정의

---

## 5. 비기능 요구사항

| 항목 | 요구사항 | 비고 |
|------|----------|------|
| **브라우저 호환성** | Chrome, Edge, Firefox, Safari (최신 2개 버전) | IE11 미지원 |
| **반응형 디자인** | PC 전용 (1280x720 이상) | 모바일/태블릿 미지원 |
| **성능** | 성능 목표 불필요 (4인 사용, 소량 데이터) | 최적화 최소화 |
| **접근성** | 접근성 고려 안 함 | 내부 4인만 사용 |
| **보안** | Gmail OAuth + 화이트리스트 | LocalStorage 전용 |
| **데이터 백업** | LocalStorage만 (백업 불필요) | 사용자 책임 |

자세한 내용은 **[Azrael-PRD-Shared.md](./Azrael-PRD-Shared.md)** 참조

---

## 6. 제약사항 및 전제조건

### 6.1. 제약사항

- **서버 없음**: 클라이언트 전용 (LocalStorage 기반)
- **데이터 동기화 없음**: 브라우저별 독립적 데이터
- **버전 관리 없음**: 최신 계산 결과만 유지
- **백업 없음**: LocalStorage 삭제 시 데이터 손실

### 6.2. 전제조건

- **사용자 환경**: PC, 최신 브라우저
- **네트워크**: 공휴일 API 호출 시 인터넷 필요
- **Gmail 계정**: OAuth 로그인 필수
- **화이트리스트**: `.env` 파일에 4인 이메일 사전 등록

---

## 7. 용어 정리

자세한 용어집은 **[Azrael-PRD-Shared.md](./Azrael-PRD-Shared.md)** 참조

**핵심 용어**:
- **영업일**: 주말(토, 일), 공휴일 제외 근무일
- **마감**: 선행 작업의 종료 시점 = L10n팀 작업 시작 시점
- **테이블 전달**: L10n팀 작업 종료 시점
- **Offset**: 업데이트일 기준 역산할 영업일 수 (음수 가능)
- **헤즈업**: 유관부서/협력업체에 일정 공유하는 날짜
- **iOS 심사일**: iOS 앱스토어 심사 제출 예정일

---

## 8. 프로젝트 목록

| 프로젝트 코드 | 프로젝트명 | 설명 | 특수 설정 |
|--------------|-----------|------|----------|
| M4/GL | MIR4 글로벌 서비스 | | 없음 |
| NC/GL (1주) | NIGHT CROWS 글로벌 1주 사이클 | | 독립 프로젝트 |
| NC/GL (2주) | NIGHT CROWS 글로벌 2주 사이클 | | 독립 프로젝트 |
| FB/GL (CDN) | FANTASTIC BASEBALL 글로벌 CDN | | 독립 프로젝트 |
| FB/GL (APP) | FANTASTIC BASEBALL 글로벌 APP | | 독립 프로젝트 |
| FB/JP (CDN) | FANTASTIC BASEBALL 일본 CDN | | 독립 프로젝트 |
| FB/JP (APP) | FANTASTIC BASEBALL 일본 APP | | 독립 프로젝트 |
| LY/GL | LEGEND OF YMIR 글로벌 서비스 | | 없음 |
| 월말정산 | 월말 현지화 비용 정산 | 프로젝트 아니지만 일정 관리 대상 | 없음 |

**⚠️ NC/GL, FB 프로젝트 타입 처리 변경** (Q3 답변 반영):
- **기존**: 1개 프로젝트 + 타입 선택 UI (1주/2주, CDN/APP)
- **변경**: 타입별로 독립 프로젝트로 분리
- **이유**: 템플릿 관리 단순화, 타입 전환 시 혼동 방지
- **영향**: 프로젝트 드롭다운 목록 증가 (6개 → 10개)

---

## 9. 성공 지표

### 9.1. Phase 0 성공 기준

- [ ] 4인 모두가 기존 엑셀 시트 대신 Azrael 사용
- [ ] 업무 단계 추가/수정이 UI에서 5분 이내 완료
- [ ] 업데이트일 입력 후 3초 이내 테이블/차트 출력
- [ ] 이미지 복사 기능으로 외부 공유 시간 50% 단축

### 9.2. Phase 1-3 성공 기준

- Phase 0 사용자 피드백 후 정의

---

## 10. 리스크 관리

| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| LocalStorage 데이터 손실 | 중 | 정기적인 수동 백업 권장 (향후 자동화 검토) |
| 브라우저 호환성 이슈 | 낮 | 주요 브라우저 최신 2개 버전만 지원 |
| 공휴일 API 장애 | 낮 | 수동 입력 기능 제공, LocalStorage 캐시 활용 |
| 라이브러리 업데이트 중단 | 낮 | MIT 라이선스로 포크 가능, 커뮤니티 활발 |

---

## 11. 부록

### 11.1. 변경 이력

| 날짜 | 버전 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 2026-01-09 | 1.0 | 초안 작성 (prd-refinement 스킬 4라운드 완료) | L10n팀 + Claude |

### 11.2. 승인 이력

| 단계 | 승인자 | 날짜 | 서명 |
|------|--------|------|------|
| PRD 검토 | | | |
| 개발 착수 승인 | | | |

---

**문서 종료**
