# Azrael Phase 0.5 & Phase 1 수동 테스트 체크리스트

**테스트 URL**: https://azrael-002.vercel.app
**소요 시간**: 15-20분
**준비물**: JIRA API Token

---

## 🧪 Test 1: JIRA 연동 설정 (5분)

### 1.1. JIRA API Token 생성
- [X] 브라우저에서 https://id.atlassian.com/manage-profile/security/api-tokens 접속
- [X] **[Create API token]** 클릭
- [X] Label: "Azrael" 입력
- [X] **[Create]** 클릭
- [X] 토큰 복사 (ghp_로 시작하는 긴 문자열)

### 1.2. Azrael 접속 및 로그인
- [X] https://azrael-002.vercel.app 접속
- [X] Google OAuth 로그인 (jkcho@wemade.com)
- [X] 로그인 성공 확인 (메인 화면 표시)

### 1.3. JIRA 연동 탭 확인
- [X] **⚙️ 설정** 버튼 클릭
- [X] **JIRA 연동** 탭 클릭
- [X] JIRA API Token 입력 필드 확인
- [X] [👁️ 표시/숨김] 버튼 동작 확인

### 1.4. JIRA 연동 테스트
- [X] JIRA API Token 붙여넣기
- [X] **[🔗 연동 테스트]** 버튼 클릭
- [ ] ⏳ 2-3초 대기
- [ ] ✅ "JIRA 연동 성공!" 메시지 확인
- [ ] 계정 정보 표시 확인:
  - 계정: jkcho@wemade.com
  - Account ID: 5b10a2844c... (또는 다른 ID)

**실패 시**:
- 에러 메시지 확인
- API Token 재생성
- Edge Functions 환경 변수 확인

---

## 🧪 Test 2: 하위 일감 템플릿 (5분)

### 2.1. 업무 단계 관리 이동
- [ ] 설정 → **업무 단계 관리** 탭
- [ ] 프로젝트 선택: **M4/GL**
- [ ] REGULAR [✎ 편집] 클릭

### 2.2. 하위 일감 템플릿 아코디언 확인
- [ ] **▶ 하위 일감 템플릿** 섹션 확인
- [ ] 클릭 → **▼** 전환 확인
- [ ] 하위 일감 폼 영역 표시 확인

### 2.3. 하위 일감 추가
- [ ] **[+ 하위 일감 추가]** 버튼 클릭
- [ ] 하위 일감 폼 추가 확인
- [ ] 입력:
  - 배치명: "번역"
  - 시작 Offset: 10
  - 종료 Offset: 9
  - 시작 시각: 09:00
  - 종료 시각: 12:00
  - 테이블: T2, T3 체크
  - JIRA Summary: "{date} 업데이트 {taskName} {subtaskName}"

### 2.4. 두 번째 하위 일감 추가
- [ ] **[+ 하위 일감 추가]** 다시 클릭
- [ ] 입력:
  - 배치명: "검수"
  - 시작 Offset: 8
  - 종료 Offset: 7
  - 시작 시각: 13:00
  - 종료 시각: 18:00
  - 테이블: T2, T3 체크

### 2.5. 저장 및 검증
- [ ] **[저장]** 버튼 클릭
- [ ] ✅ "저장되었습니다" 메시지 확인
- [ ] 모달 닫힘 확인
- [ ] REGULAR [✎ 편집] 다시 클릭
- [ ] ▶ 하위 일감 템플릿 펼침
- [ ] 2개 하위 일감 표시 확인 (번역, 검수)

---

## 🧪 Test 3: 테이블 "JIRA 담당자" 컬럼 (3분)

### 3.1. 일정 계산
- [ ] 메인 화면으로 돌아가기 (설정 닫기)
- [ ] 프로젝트: **M4/GL** 선택 (이미 선택됨)
- [ ] 업데이트일: **2026-02-10** 입력
- [ ] **[계산]** 버튼 클릭
- [ ] ⏳ 1-2초 대기

### 3.2. 테이블 2/3 "JIRA 담당자" 컬럼 확인
- [ ] **테이블 2 (Ext.)** 스크롤
- [ ] 헤더 확인: `| # | 배치 | HO | HB | 설명 | JIRA 설명 | JIRA 담당자 | 액션 |`
- [ ] "JIRA 담당자" 컬럼 표시 확인

### 3.3. "JIRA 담당자" 셀 편집
- [ ] REGULAR 행의 "JIRA 담당자" 셀 클릭
- [ ] 편집 모드 활성화 확인 (파란 테두리)
- [ ] Account ID 입력: "5b10a2844c20bc4db4d4eaa4"
- [ ] Enter 키 또는 셀 밖 클릭
- [ ] 값 저장 확인 (앞 8자 + "..." 표시)
- [ ] 셀 다시 클릭 → 전체 값 확인

### 3.4. 하위 일감 "JIRA 담당자" 확인
- [ ] "번역" 행의 "JIRA 담당자" 셀 확인 (표시됨)
- [ ] "검수" 행의 "JIRA 담당자" 셀 확인 (표시됨)

---

## 🧪 Test 4: JIRA 생성 E2E (7분) ⭐ **핵심**

### 4.1. 프로젝트 JIRA 키 설정
- [ ] **⚙️ 설정** 클릭
- [ ] **프로젝트 관리** 탭
- [ ] M4/GL [✎ 편집]
- [ ] "JIRA 프로젝트 키" 입력: **M4L10N** (또는 실제 프로젝트 키)
- [ ] (선택) Epic Summary 템플릿: "{date} 업데이트"
- [ ] (선택) 헤즈업 Task Summary: "{date} 업데이트 일정 헤즈업"
- [ ] **[저장]**
- [ ] 설정 닫기

### 4.2. JIRA 생성 버튼 활성화 확인
- [ ] 메인 화면에 **[📋 JIRA 생성]** 버튼 표시 확인
- [ ] 버튼 활성화 상태 확인 (비활성화되지 않음)
- [ ] 마우스 오버 → 툴팁 없음 (활성화됨)

### 4.3. JIRA 미리보기 모달
- [ ] **[📋 JIRA 생성]** 클릭
- [ ] 미리보기 모달 표시 확인
- [ ] **Epic 정보 확인**:
  - Summary: "260210 업데이트" (또는 템플릿 형식)
  - 기간: 01/28 ~ 02/15 (또는 계산된 날짜)
- [ ] **Task 목록 확인**:
  - 📋 [Task] 260210 업데이트 일정 헤즈업
  - 📋 [Task] 260210 업데이트 REGULAR
  - 　├─ 📄 [Sub-task] 260210 업데이트 REGULAR 번역
  - 　└─ 📄 [Sub-task] 260210 업데이트 REGULAR 검수
- [ ] **통계 확인**: "총 1 Epic, X Tasks, Y Subtasks"

### 4.4. JIRA 생성 실행
- [ ] **[JIRA 생성]** 버튼 클릭
- [ ] ⏳ 로딩 표시 확인 (3-5초)
- [ ] ✅ 성공 메시지 확인:
  - "JIRA 일감이 생성되었습니다!"
  - Epic: M4L10N-XX (Key 표시)
- [ ] Epic Key 복사 (예: M4L10N-45)

### 4.5. JIRA에서 검증
- [ ] 새 탭 열기: https://wemade.atlassian.net/browse/M4L10N-45 (복사한 Key)
- [ ] ✅ Epic 생성 확인:
  - Summary: "260210 업데이트"
  - Start Date: 01/28
  - Due Date: 02/15
- [ ] ✅ Tasks 확인:
  - 헤즈업 Task 존재
  - REGULAR Task 존재
  - 번역 Subtask 존재
  - 검수 Subtask 존재
- [ ] ✅ 날짜 확인:
  - customfield_10569 (시작일) 설정됨
  - customfield_10570 (종료일) 설정됨

### 4.6. Epic 중복 체크
- [ ] Azrael로 돌아가기
- [ ] **[📋 JIRA 생성]** 다시 클릭
- [ ] ❌ "이미 생성된 Epic이 있습니다" 에러 확인
- [ ] 미리보기 모달 열리지 않음 확인

---

## 🧪 Test 5: JIRA 업데이트 E2E (5분)

### 5.1. 업데이트 버튼 활성화 확인
- [ ] 메인 화면에 **[🔄 JIRA 업데이트]** 버튼 표시 확인
- [ ] 버튼 활성화 상태 확인 (Epic 생성 후 자동 활성화)

### 5.2. 일정 재계산
- [ ] 업데이트일 변경: **2026-02-15** (5일 후)
- [ ] **[계산]** 클릭
- [ ] 테이블 날짜 변경 확인

### 5.3. JIRA 업데이트 실행
- [ ] **[🔄 JIRA 업데이트]** 클릭
- [ ] 확인 다이얼로그 표시:
  - "업데이트: X개 Task"
  - "신규 생성: Y개 Task"
- [ ] **[확인]** 클릭
- [ ] ⏳ 로딩 (2-3초)
- [ ] ✅ "JIRA 일감이 업데이트되었습니다!" 메시지

### 5.4. JIRA에서 검증
- [ ] JIRA Epic (M4L10N-XX) 새로고침
- [ ] ✅ 날짜 변경 확인:
  - Start Date: 02/02 (5일 증가)
  - Due Date: 02/20 (5일 증가)
- [ ] ✅ Tasks 날짜 업데이트 확인

---

## 🧪 Test 6: 템플릿 커스터마이징 (5분)

### 6.1. JIRA Summary 템플릿 수정
- [ ] ⚙️ 설정 → 업무 단계 관리
- [ ] M4/GL → REGULAR [편집]
- [ ] JIRA Summary 템플릿: **"{projectName} {date} 업데이트 - {taskName}"**
- [ ] [저장]

### 6.2. 새 업데이트로 JIRA 생성 (다른 날짜)
- [ ] 메인 화면
- [ ] 업데이트일: **2026-03-10** (새 날짜)
- [ ] [계산]
- [ ] [JIRA 생성]
- [ ] 미리보기에서 Summary 확인:
  - "M4/GL 260310 업데이트 - REGULAR" ✅
- [ ] [JIRA 생성]
- [ ] JIRA에서 Summary 확인

### 6.3. 유효하지 않은 변수 테스트
- [ ] 설정 → 업무 단계 관리
- [ ] REGULAR [편집]
- [ ] JIRA Summary: "{invalidVar} test"
- [ ] [저장] 클릭
- [ ] ❌ "유효하지 않은 변수: invalidVar" 에러 확인
- [ ] 저장 안 됨 확인

---

## ✅ 테스트 통과 기준

### Phase 0.5 기능
- [x] 하위 일감 템플릿 아코디언 표시
- [x] 하위 일감 추가/편집/삭제 동작
- [x] 테이블 "JIRA 담당자" 컬럼 표시 및 편집
- [x] 프로젝트 JIRA 필드 저장

### Phase 1 기능
- [x] JIRA 연동 설정 UI 표시
- [x] JIRA 연동 테스트 성공
- [x] Account ID 자동 조회 및 저장
- [x] JIRA 생성 버튼 활성화
- [x] JIRA 미리보기 모달 표시
- [x] Epic/Task/Subtask 생성 성공
- [x] Epic 중복 체크 동작
- [x] JIRA 업데이트 버튼 활성화 (Epic 생성 후)
- [x] JIRA 업데이트 성공
- [x] 템플릿 커스터마이징 적용
- [x] 템플릿 검증 오류 감지

---

## 🐛 버그 발견 시

**기록 항목**:
1. 발생 단계 (Test X.Y)
2. 재현 방법
3. 에러 메시지 (있으면)
4. 브라우저 Console 오류 (F12 → Console)
5. 스크린샷

**즉시 수정 가능**:
- UI 버그
- 에러 메시지 개선
- 유효성 검증 추가

**배포 필요**:
- Edge Functions 로직 수정
- Supabase 스키마 변경

---

## 📸 스크린샷 (선택)

다음 화면 캡처 권장:
1. JIRA 연동 성공 화면
2. 하위 일감 템플릿 폼
3. JIRA 미리보기 모달
4. JIRA에 생성된 Epic (Wemade JIRA)

---

## 🎯 테스트 완료 후

- [ ] 모든 체크박스 완료
- [ ] 버그 없음 또는 버그 리스트 작성
- [ ] L10n팀 배포 준비 완료
- [ ] Phase 2/3 기획 시작 고려

---

**테스트를 시작하세요!** 🚀

**질문/문제 발생 시**: Claude Code에 알려주세요.
