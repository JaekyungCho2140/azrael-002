# Azrael v1.2 Improvements Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** ë³€ìˆ˜ ì²´ê³„ í†µí•©, Epic Description í¸ì§‘/í‘œ ì‚½ì…, ì´ë¯¸ì§€ ë³µì‚¬ ë²„íŠ¼ ì œì™¸, user-manual ìµœì‹ í™”

**Architecture:** JIRA í…œí”Œë¦¿ê³¼ ì´ë©”ì¼ í…œí”Œë¦¿ì˜ ë‚ ì§œ ë³€ìˆ˜ë¥¼ 3ê°€ì§€ í˜•ì‹(MMDD, MM/DD(ìš”ì¼), YY/MM/DD)ìœ¼ë¡œ í†µí•©. Epic Description í…œí”Œë¦¿ + ADF í…Œì´ë¸” ìë™ ì‚½ì…ì„ ì„¤ì •ì—ì„œ ê´€ë¦¬í•˜ê³ , JIRA ìƒì„±/ì—…ë°ì´íŠ¸ ì‹œ Edge Functionìœ¼ë¡œ ì „ë‹¬. ì´ë¯¸ì§€ ë³µì‚¬ëŠ” ê¸°ì¡´ .copy-exclude ë©”ì»¤ë‹ˆì¦˜ í™œìš©.

**Tech Stack:** React 18 + TypeScript + Vite, Supabase (PostgreSQL + Edge Functions), Vitest

**Design Doc:** `docs/plans/2026-02-26-v1.2-improvements-design.md`

---

## Task 1: DB Migration â€” Epic Description ì»¬ëŸ¼ ì¶”ê°€

**Files:**
- Create: `supabase/migrations/011_v1.2_epic_description.sql`

**Step 1: ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ì‘ì„±**

```sql
-- 011_v1.2_epic_description.sql
-- v1.2: Epic Description í…œí”Œë¦¿ + í‘œ ìë™ ì‚½ì… ì„¤ì •

ALTER TABLE projects ADD COLUMN IF NOT EXISTS jira_epic_description TEXT DEFAULT NULL;
ALTER TABLE projects ADD COLUMN IF NOT EXISTS jira_epic_table_enabled BOOLEAN DEFAULT FALSE;
ALTER TABLE projects ADD COLUMN IF NOT EXISTS jira_epic_table_type TEXT DEFAULT 'table1';
```

**Step 2: Supabase Dashboard SQL Editorì—ì„œ ì‹¤í–‰**

Supabase Dashboard â†’ SQL Editorì—ì„œ ìœ„ SQL ì‹¤í–‰.

**Step 3: ì»¤ë°‹**

```bash
git add supabase/migrations/011_v1.2_epic_description.sql
git commit -m "chore: add epic description columns migration (011)"
```

---

## Task 2: Types ì—…ë°ì´íŠ¸ â€” Project, TemplateVars, VALID_TEMPLATE_VARIABLES

**Files:**
- Modify: `src/types/index.ts:10-28` (Project ì¸í„°í˜ì´ìŠ¤)
- Modify: `src/types/index.ts:247-257` (VALID_TEMPLATE_VARIABLES, BOOLEAN_ONLY_VARIABLES)
- Modify: `src/lib/jira/templates.ts:10-17` (TemplateVars ì¸í„°í˜ì´ìŠ¤)

**Step 1: Project ì¸í„°í˜ì´ìŠ¤ì— ì‹ ê·œ í•„ë“œ ì¶”ê°€**

`src/types/index.ts` â€” Project ì¸í„°í˜ì´ìŠ¤ (ë¼ì¸ 23 `jiraHeadsupDescription` ë’¤ì— ì¶”ê°€):

```typescript
  jiraHeadsupDescription?: string;
  // v1.2: Epic Description í…œí”Œë¦¿ + í‘œ ìë™ ì‚½ì…
  jiraEpicDescription?: string;       // Epic Description í…œí”Œë¦¿ (ADF ë§ˆí¬ì—… + ë³€ìˆ˜ ì¹˜í™˜)
  jiraEpicTableEnabled?: boolean;     // í‘œ ìë™ ì‚½ì… ON/OFF
  jiraEpicTableType?: 'table1' | 'table2' | 'table3';  // ì‚½ì…í•  í…Œì´ë¸”
  jiraTaskIssueType?: string;
```

**Step 2: VALID_TEMPLATE_VARIABLES ì—…ë°ì´íŠ¸**

`src/types/index.ts` â€” ë¼ì¸ 247-251 ì „ì²´ êµì²´:

```typescript
export const VALID_TEMPLATE_VARIABLES = [
  // ë‚ ì§œ ë³€ìˆ˜ (4 ë‚ ì§œ Ã— 3 í˜•ì‹ = 12ê°œ)
  'updateDate', 'updateDateDay', 'updateDateFull',
  'headsUp', 'headsUpDay', 'headsUpFull',
  'iosReviewDate', 'iosReviewDateDay', 'iosReviewDateFull',
  'paidProductDate', 'paidProductDateDay', 'paidProductDateFull',
  // ë ˆê±°ì‹œ (í•˜ìœ„ í˜¸í™˜)
  'date',
  // ë¹„ë‚ ì§œ ë³€ìˆ˜
  'table', 'disclaimer', 'projectName',
  'showIosReviewDate', 'showPaidProductDate',
] as const;
```

**Step 3: TemplateVars ì¸í„°í˜ì´ìŠ¤ í™•ì¥**

`src/lib/jira/templates.ts` â€” ë¼ì¸ 10-17 ì „ì²´ êµì²´:

```typescript
export interface TemplateVars {
  date: string;              // YYMMDD (ì˜ˆ: 260210) â€” ë ˆê±°ì‹œ
  updateDate: string;        // MMDD (ì˜ˆ: 0210)
  updateDateDay: string;     // MM/DD(ìš”ì¼) (ì˜ˆ: 02/10(ì›”))
  updateDateFull: string;    // YY/MM/DD (ì˜ˆ: 26/02/10)
  headsUp: string;           // MMDD (ì˜ˆ: 0128)
  headsUpDay: string;        // MM/DD(ìš”ì¼) (ì˜ˆ: 01/28(í™”))
  headsUpFull: string;       // YY/MM/DD (ì˜ˆ: 26/01/28)
  iosReviewDate: string;     // MMDD (ì˜ˆ: 0203) â€” ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´
  iosReviewDateDay: string;  // MM/DD(ìš”ì¼) â€” ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´
  iosReviewDateFull: string; // YY/MM/DD â€” ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´
  paidProductDate: string;     // MMDD â€” ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´
  paidProductDateDay: string;  // MM/DD(ìš”ì¼) â€” ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´
  paidProductDateFull: string; // YY/MM/DD â€” ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´
  projectName: string;       // í”„ë¡œì íŠ¸ëª…
  taskName: string;          // Task ë°°ì¹˜ëª…
  subtaskName?: string;      // Subtask ë°°ì¹˜ëª…
  stageName: string;         // í˜„ì¬ ì—…ë¬´ ë‹¨ê³„ëª…
}
```

**Step 4: ì»¤ë°‹**

```bash
git add src/types/index.ts src/lib/jira/templates.ts
git commit -m "feat: extend types for unified variable system and epic description"
```

---

## Task 3: ë‚ ì§œ í¬ë§· ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¶”ê°€

**Files:**
- Modify: `src/lib/jira/templates.ts:67-83` (ê¸°ì¡´ í¬ë§· í•¨ìˆ˜ ì˜†ì— ì¶”ê°€)
- Modify: `src/lib/email/formatters.ts:32-52` (ê¸°ì¡´ í¬ë§· í•¨ìˆ˜ ì˜†ì— ì¶”ê°€)

**Step 1: JIRA templates.tsì— ì‹ ê·œ í¬ë§· í•¨ìˆ˜ ì¶”ê°€**

`src/lib/jira/templates.ts` â€” ë¼ì¸ 83 (`formatDateMMDD` í•¨ìˆ˜) ë’¤ì— ì¶”ê°€:

```typescript
/**
 * ë‚ ì§œë¥¼ MM/DD(ìš”ì¼) í˜•ì‹ìœ¼ë¡œ ë³€í™˜
 * @returns "MM/DD(ìš”ì¼)" í˜•ì‹ (ì˜ˆ: 01/28(í™”))
 */
const WEEKDAYS = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];

export function formatDateDay(date: Date): string {
  const mm = String(date.getMonth() + 1).padStart(2, '0');
  const dd = String(date.getDate()).padStart(2, '0');
  const day = WEEKDAYS[date.getDay()];
  return `${mm}/${dd}(${day})`;
}

/**
 * ë‚ ì§œë¥¼ YY/MM/DD í˜•ì‹ìœ¼ë¡œ ë³€í™˜
 * @returns "YY/MM/DD" í˜•ì‹ (ì˜ˆ: 26/01/28)
 */
export function formatDateFull(date: Date): string {
  const yy = String(date.getFullYear()).substring(2);
  const mm = String(date.getMonth() + 1).padStart(2, '0');
  const dd = String(date.getDate()).padStart(2, '0');
  return `${yy}/${mm}/${dd}`;
}
```

**Step 2: email formatters.tsì—ë„ ë™ì¼ í•¨ìˆ˜ ì¶”ê°€ (ë˜ëŠ” import)**

ì´ë©”ì¼ê³¼ JIRAëŠ” ë³„ë„ ëª¨ë“ˆì´ë¯€ë¡œ, `src/lib/email/formatters.ts` ë¼ì¸ 52 ë’¤ì— ë™ì¼ í•¨ìˆ˜ ì¶”ê°€:

```typescript
/**
 * Date â†’ MMDD í˜•ì‹ (í†µí•© ë³€ìˆ˜ìš©)
 * @returns "MMDD" í˜•ì‹ (ì˜ˆ: 0210)
 */
export function formatDateMMDD(date: Date): string {
  const mm = String(date.getMonth() + 1).padStart(2, '0');
  const dd = String(date.getDate()).padStart(2, '0');
  return `${mm}${dd}`;
}

/**
 * Date â†’ YY/MM/DD í˜•ì‹ (í†µí•© ë³€ìˆ˜ìš©)
 * @returns "YY/MM/DD" í˜•ì‹ (ì˜ˆ: 26/02/10)
 */
export function formatDateFull(date: Date): string {
  const yy = String(date.getFullYear()).substring(2);
  const mm = String(date.getMonth() + 1).padStart(2, '0');
  const dd = String(date.getDate()).padStart(2, '0');
  return `${yy}/${mm}/${dd}`;
}
```

**Step 3: í…ŒìŠ¤íŠ¸ ì‘ì„± â€” ì‹ ê·œ í¬ë§· í•¨ìˆ˜**

`src/lib/email/email.test.ts` â€” `formatEmailDate` describe ë¸”ë¡ ë’¤ì— ì¶”ê°€:

```typescript
describe('formatDateMMDD', () => {
  it('MMDD í˜•ì‹ ë°˜í™˜', () => {
    expect(formatDateMMDD(new Date('2026-02-10'))).toBe('0210');
  });
  it('í•œ ìë¦¬ ì›”/ì¼ íŒ¨ë”©', () => {
    expect(formatDateMMDD(new Date('2026-01-05'))).toBe('0105');
  });
});

describe('formatDateFull', () => {
  it('YY/MM/DD í˜•ì‹ ë°˜í™˜', () => {
    expect(formatDateFull(new Date('2026-02-10'))).toBe('26/02/10');
  });
  it('ì—°ë„ ë„˜ê¹€ (12ì›”â†’1ì›”)', () => {
    expect(formatDateFull(new Date('2025-12-28'))).toBe('25/12/28');
  });
});
```

**Step 4: í…ŒìŠ¤íŠ¸ ì‹¤í–‰**

```bash
npm test -- --run
```

Expected: ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼

**Step 5: ì»¤ë°‹**

```bash
git add src/lib/jira/templates.ts src/lib/email/formatters.ts src/lib/email/email.test.ts
git commit -m "feat: add formatDateDay, formatDateFull, formatDateMMDD utility functions"
```

---

## Task 4: JIRA í…œí”Œë¦¿ ì—”ì§„ â€” í†µí•© ë³€ìˆ˜ ì¹˜í™˜

**Files:**
- Modify: `src/lib/jira/templates.ts:25-33` (applyTemplate í•¨ìˆ˜)
- Modify: `src/hooks/useJiraOperations.ts:151-156, 193-200, 227-231` (TemplateVars êµ¬ì„±)

**Step 1: applyTemplate í•¨ìˆ˜ í™•ì¥**

`src/lib/jira/templates.ts` â€” ë¼ì¸ 25-33 ì „ì²´ êµì²´:

```typescript
export function applyTemplate(template: string, vars: TemplateVars): string {
  return template
    // ë ˆê±°ì‹œ
    .replace(/{date}/g, vars.date)
    // updateDate (3í˜•ì‹)
    .replace(/{updateDateFull}/g, vars.updateDateFull)
    .replace(/{updateDateDay}/g, vars.updateDateDay)
    .replace(/{updateDate}/g, vars.updateDate)
    // headsUp (3í˜•ì‹)
    .replace(/{headsUpFull}/g, vars.headsUpFull)
    .replace(/{headsUpDay}/g, vars.headsUpDay)
    .replace(/{headsUp}/g, vars.headsUp)
    // iosReviewDate (3í˜•ì‹)
    .replace(/{iosReviewDateFull}/g, vars.iosReviewDateFull)
    .replace(/{iosReviewDateDay}/g, vars.iosReviewDateDay)
    .replace(/{iosReviewDate}/g, vars.iosReviewDate)
    // paidProductDate (3í˜•ì‹)
    .replace(/{paidProductDateFull}/g, vars.paidProductDateFull)
    .replace(/{paidProductDateDay}/g, vars.paidProductDateDay)
    .replace(/{paidProductDate}/g, vars.paidProductDate)
    // ë¹„ë‚ ì§œ ë³€ìˆ˜
    .replace(/{projectName}/g, vars.projectName)
    .replace(/{taskName}/g, vars.taskName)
    .replace(/{subtaskName}/g, vars.subtaskName || '')
    .replace(/{stageName}/g, vars.stageName);
}
```

âš ï¸ ì£¼ì˜: `{headsUpFull}`ì„ `{headsUp}` ë³´ë‹¤ ë¨¼ì € ì¹˜í™˜í•´ì•¼ í•¨ (ì ‘ë‘ì–´ ì¶©ëŒ ë°©ì§€)

**Step 2: useJiraOperations.ts â€” TemplateVars êµ¬ì„± ì—…ë°ì´íŠ¸**

`src/hooks/useJiraOperations.ts`ì—ì„œ import ì¶”ê°€:

```typescript
import { TemplateVars, getSummary, formatDateYYMMDD, formatDateMMDD, formatDateDay, formatDateFull } from '../lib/jira/templates';
```

ë¼ì¸ 151-152 (dateStr, headsUpStr ê³„ì‚°) ê·¼ì²˜ë¥¼ í™•ì¥:

```typescript
const dateStr = formatDateYYMMDD(calculationResult.updateDate);
const headsUpStr = formatDateMMDD(calculationResult.headsUpDate);
// v1.2: í†µí•© ë³€ìˆ˜ìš© ì¶”ê°€ í¬ë§·
const updateDateDay = formatDateDay(calculationResult.updateDate);
const updateDateFull = formatDateFull(calculationResult.updateDate);
const headsUpDay = formatDateDay(calculationResult.headsUpDate);
const headsUpFull = formatDateFull(calculationResult.headsUpDate);
const iosReviewDateMMDD = calculationResult.iosReviewDate ? formatDateMMDD(calculationResult.iosReviewDate) : '';
const iosReviewDateDay = calculationResult.iosReviewDate ? formatDateDay(calculationResult.iosReviewDate) : '';
const iosReviewDateFull = calculationResult.iosReviewDate ? formatDateFull(calculationResult.iosReviewDate) : '';
const paidProductDateMMDD = calculationResult.paidProductDate ? formatDateMMDD(calculationResult.paidProductDate) : '';
const paidProductDateDay = calculationResult.paidProductDate ? formatDateDay(calculationResult.paidProductDate) : '';
const paidProductDateFull = calculationResult.paidProductDate ? formatDateFull(calculationResult.paidProductDate) : '';
```

ë¼ì¸ 193-200 (vars êµ¬ì„±) í™•ì¥:

```typescript
const vars: TemplateVars = {
  date: dateStr,
  updateDate: formatDateMMDD(calculationResult.updateDate),
  updateDateDay,
  updateDateFull,
  headsUp: headsUpStr,
  headsUpDay,
  headsUpFull,
  iosReviewDate: iosReviewDateMMDD,
  iosReviewDateDay,
  iosReviewDateFull,
  paidProductDate: paidProductDateMMDD,
  paidProductDateDay,
  paidProductDateFull,
  projectName: currentProject.name,
  taskName: stage.name,
  subtaskName: '',
  stageName: stage.name,
};
```

ë¼ì¸ 154-156 (Epic Summary ìƒì„±)ì—ì„œ ì§ì ‘ replace ëŒ€ì‹  applyTemplate ì‚¬ìš©:

```typescript
const epicSummary = currentProject.jiraEpicTemplate
  ? applyTemplate(currentProject.jiraEpicTemplate, { ...vars, taskName: '', stageName: '' })
  : `${dateStr} ì—…ë°ì´íŠ¸`;
```

ë¼ì¸ 162-164 (Headsup Summary) ë™ì¼í•˜ê²Œ ë³€ê²½:

```typescript
const headsupSummary = currentProject.jiraHeadsupTemplate
  ? applyTemplate(currentProject.jiraHeadsupTemplate, { ...vars, taskName: '', stageName: '' })
  : `${dateStr} ì—…ë°ì´íŠ¸ ì¼ì • í—¤ì¦ˆì—…`;
```

**Step 3: ì»¤ë°‹**

```bash
git add src/lib/jira/templates.ts src/hooks/useJiraOperations.ts
git commit -m "feat: unified variable system in JIRA template engine"
```

---

## Task 5: ì´ë©”ì¼ í…œí”Œë¦¿ ì—”ì§„ â€” í†µí•© ë³€ìˆ˜ ì ìš©

**Files:**
- Modify: `src/lib/email/emailGenerator.ts:77-110` (TemplateContext êµ¬ì„±)
- Modify: `src/lib/email/email.test.ts` (ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ìˆ˜ì •)

**Step 1: emailGenerator.ts â€” TemplateContextì— ì‹ ê·œ ë³€ìˆ˜ ì¶”ê°€**

`src/lib/email/emailGenerator.ts` â€” importì— ì‹ ê·œ í•¨ìˆ˜ ì¶”ê°€:

```typescript
import {
  formatEmailDate,
  formatUpdateDateShort,
  getEntriesByTableType,
  formatTableHtml,
  htmlToPlainText,
  formatDateMMDD,
  formatDateFull,
} from './formatters';
```

ë¼ì¸ 77-110 (ë‚ ì§œ í¬ë§·íŒ… + TemplateContext êµ¬ì„±) ì „ì²´ êµì²´:

```typescript
  // 1. ë‚ ì§œ í¬ë§·íŒ… â€” í†µí•© ë³€ìˆ˜ ì²´ê³„ (v1.2)
  const updateDate = formatDateMMDD(request.updateDate);        // MMDD
  const updateDateDay = formatEmailDate(request.updateDate);    // MM/DD(ìš”ì¼)
  const updateDateFull = formatDateFull(request.updateDate);    // YY/MM/DD

  const headsUp = formatDateMMDD(calcResult.headsUpDate);       // MMDD
  const headsUpDay = formatEmailDate(calcResult.headsUpDate);   // MM/DD(ìš”ì¼)
  const headsUpFull = formatDateFull(calcResult.headsUpDate);   // YY/MM/DD

  const iosReviewDate = calcResult.iosReviewDate ? formatDateMMDD(calcResult.iosReviewDate) : null;
  const iosReviewDateDay = calcResult.iosReviewDate ? formatEmailDate(calcResult.iosReviewDate) : null;
  const iosReviewDateFull = calcResult.iosReviewDate ? formatDateFull(calcResult.iosReviewDate) : null;

  const paidProductDate = calcResult.paidProductDate ? formatDateMMDD(calcResult.paidProductDate) : null;
  const paidProductDateDay = calcResult.paidProductDate ? formatEmailDate(calcResult.paidProductDate) : null;
  const paidProductDateFull = calcResult.paidProductDate ? formatDateFull(calcResult.paidProductDate) : null;

  // 2. í…Œì´ë¸” HTML ìƒì„± (children í‰íƒ„í™” í¬í•¨)
  const entries = getEntriesByTableType(calcResult, request.tableType);
  const tableHtml = formatTableHtml(entries, request.tableType);

  // 3. Disclaimer ë³€ìˆ˜ ì¹˜í™˜ + HTML ë Œë”ë§
  const disclaimerWithVars = substituteDisclaimerVariables(
    project.disclaimer, calcResult, formatEmailDate
  );
  const disclaimerHtml = renderDisclaimerHtml(disclaimerWithVars);

  // 4. í…œí”Œë¦¿ ë³€ìˆ˜ ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±
  const context: TemplateContext = {
    updateDate,
    updateDateDay,
    updateDateFull,
    // ë ˆê±°ì‹œ: updateDateShort â†’ updateDateì™€ ë™ì¼
    updateDateShort: updateDate,
    // ë ˆê±°ì‹œ: date â†’ YYMMDD
    date: (() => {
      const yy = String(request.updateDate.getFullYear()).substring(2);
      const mm = String(request.updateDate.getMonth() + 1).padStart(2, '0');
      const dd = String(request.updateDate.getDate()).padStart(2, '0');
      return `${yy}${mm}${dd}`;
    })(),
    headsUp,
    headsUpDay,
    headsUpFull,
    iosReviewDate,
    iosReviewDateDay,
    iosReviewDateFull,
    paidProductDate,
    paidProductDateDay,
    paidProductDateFull,
    table: tableHtml,
    disclaimer: disclaimerHtml || null,
    projectName: project.name,
    showIosReviewDate: project.showIosReviewDate && iosReviewDate != null,
    showPaidProductDate: project.showPaidProductDate && paidProductDate != null,
  };
```

**Step 2: TemplateContext íƒ€ì… ì—…ë°ì´íŠ¸**

`src/types/index.ts` â€” TemplateContext ì¸í„°í˜ì´ìŠ¤ (ë³´í†µ `Record<string, any>` ë˜ëŠ” ìœ ì‚¬í•œ íƒ€ì…)ì— ìƒˆ í‚¤ ì¶”ê°€. í˜„ì¬ `Record<string, string | boolean | null>` í˜•íƒœì´ë¯€ë¡œ ì¶”ê°€ ë³€ê²½ ë¶ˆí•„ìš”í•  ìˆ˜ ìˆìŒ â€” í™•ì¸ í›„ í•„ìš” ì‹œ ìˆ˜ì •.

**Step 3: ê¸°ì¡´ ì´ë©”ì¼ í…ŒìŠ¤íŠ¸ ìˆ˜ì •**

`src/lib/email/email.test.ts`ì—ì„œ `{headsUp}` â†’ `{headsUpDay}` ë“±ìœ¼ë¡œ ê¸°ì¡´ ì´ë©”ì¼ í…ŒìŠ¤íŠ¸ ì¤‘ breaking changeì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì •. `generateEmail` í…ŒìŠ¤íŠ¸ì—ì„œ ê¸°ëŒ€ê°’ ì—…ë°ì´íŠ¸ (headsUpì´ ì´ì œ MMDDë¥¼ ë°˜í™˜).

**Step 4: í…ŒìŠ¤íŠ¸ ì‹¤í–‰**

```bash
npm test -- --run
```

Expected: ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼

**Step 5: ì»¤ë°‹**

```bash
git add src/lib/email/emailGenerator.ts src/lib/email/email.test.ts src/types/index.ts
git commit -m "feat: unified variable system in email template engine"
```

---

## Task 6: Project API ë ˆì´ì–´ ì—…ë°ì´íŠ¸

**Files:**
- Modify: `src/lib/api/projects.ts:15-34` (mapToProject)
- Modify: `src/lib/api/projects.ts:67-83` (createProject INSERT)
- Modify: `src/lib/api/projects.ts:104-118` (updateProject UPDATE)

**Step 1: mapToProjectì— ì‹ ê·œ í•„ë“œ ë§¤í•‘ ì¶”ê°€**

`src/lib/api/projects.ts` â€” ë¼ì¸ 29 (`jiraHeadsupDescription`) ë’¤ì— ì¶”ê°€:

```typescript
    jiraEpicDescription: row.jira_epic_description || undefined,
    jiraEpicTableEnabled: row.jira_epic_table_enabled ?? false,
    jiraEpicTableType: row.jira_epic_table_type || 'table1',
```

**Step 2: createProject INSERTì— ì‹ ê·œ ì»¬ëŸ¼ ì¶”ê°€**

`src/lib/api/projects.ts` â€” ë¼ì¸ 80 (`jira_headsup_description`) ë’¤ì— ì¶”ê°€:

```typescript
      jira_epic_description: project.jiraEpicDescription || null,
      jira_epic_table_enabled: project.jiraEpicTableEnabled ?? false,
      jira_epic_table_type: project.jiraEpicTableType || 'table1',
```

**Step 3: updateProject UPDATEì— ì‹ ê·œ ì»¬ëŸ¼ ì¶”ê°€**

`src/lib/api/projects.ts` â€” ë¼ì¸ 116 (`jira_headsup_description`) ë’¤ì— ì¶”ê°€:

```typescript
      jira_epic_description: updates.jiraEpicDescription !== undefined ? updates.jiraEpicDescription : undefined,
      jira_epic_table_enabled: updates.jiraEpicTableEnabled !== undefined ? updates.jiraEpicTableEnabled : undefined,
      jira_epic_table_type: updates.jiraEpicTableType !== undefined ? updates.jiraEpicTableType : undefined,
```

**Step 4: ì»¤ë°‹**

```bash
git add src/lib/api/projects.ts
git commit -m "feat: add epic description fields to project API layer"
```

---

## Task 7: ProjectEditModal UI â€” Epic Description + í‘œ ì„¤ì •

**Files:**
- Modify: `src/components/ProjectEditModal.tsx`

**Step 1: state ë³€ìˆ˜ ì¶”ê°€**

ë¼ì¸ 33 (`jiraHeadsupDescription`) ë’¤ì— ì¶”ê°€:

```typescript
  const [jiraEpicDescription, setJiraEpicDescription] = useState('');
  const [jiraEpicTableEnabled, setJiraEpicTableEnabled] = useState(false);
  const [jiraEpicTableType, setJiraEpicTableType] = useState<'table1' | 'table2' | 'table3'>('table1');
```

**Step 2: useEffect ì´ˆê¸°í™”ì— ì¶”ê°€**

ë¼ì¸ 60 (`setJiraHeadsupDescription`) ê·¼ì²˜ì— ì¶”ê°€:

```typescript
    setJiraEpicDescription(project.jiraEpicDescription || '');
    setJiraEpicTableEnabled(project.jiraEpicTableEnabled ?? false);
    setJiraEpicTableType(project.jiraEpicTableType || 'table1');
```

else ë¸”ë¡ (ì‹ ê·œ í”„ë¡œì íŠ¸ ì´ˆê¸°í™”)ì—ë„ ì¶”ê°€:

```typescript
    setJiraEpicDescription('');
    setJiraEpicTableEnabled(false);
    setJiraEpicTableType('table1');
```

**Step 3: handleSaveì— ì‹ ê·œ í•„ë“œ í¬í•¨**

ë¼ì¸ 97 (`jiraHeadsupDescription`) ê·¼ì²˜ì— ì¶”ê°€:

```typescript
    jiraEpicDescription: jiraEpicDescription.trim() || undefined,
    jiraEpicTableEnabled,
    jiraEpicTableType,
```

**Step 4: UI ë Œë”ë§ â€” Epic Description textarea**

ë¼ì¸ 253 (Epic Summary í…œí”Œë¦¿ `</div>` ë‹«í˜) ë’¤, ë¼ì¸ 255 (í—¤ì¦ˆì—… Task Summary ì‹œì‘) ì „ì— ì¶”ê°€:

```tsx
{/* Epic Description í…œí”Œë¦¿ (v1.2) */}
<div className="form-group">
  <label className="form-label" htmlFor="jiraEpicDescription">
    Epic Description í…œí”Œë¦¿ (ì„ íƒ)
    <span
      className="info-icon"
      title="ì‚¬ìš© ê°€ëŠ¥í•œ ë³€ìˆ˜: {updateDate}, {updateDateDay}, {updateDateFull}, {headsUp}, {headsUpDay}, {headsUpFull}, {iosReviewDate}, {iosReviewDateFull}, {paidProductDate}, {paidProductDateFull}, {projectName}. ADF í…Œì´ë¸” ë§ˆí¬ì—…: ||í—¤ë”1|í—¤ë”2|| |ë°ì´í„°1|ë°ì´í„°2|"
      style={{ marginLeft: '0.5rem', cursor: 'help', color: 'var(--azrael-gray-400)' }}
    >
      ?
    </span>
  </label>
  <textarea
    id="jiraEpicDescription"
    className="form-input"
    value={jiraEpicDescription}
    onChange={(e) => setJiraEpicDescription(e.target.value)}
    placeholder="Epic ì¼ê°ì˜ ì„¤ëª…ì— ì‚½ì…ë  ë‚´ìš© (ADF í…Œì´ë¸” ë§ˆí¬ì—… ì§€ì›)"
    rows={4}
    style={{ resize: 'vertical' }}
  />
  <small style={{ color: 'var(--azrael-gray-500)', fontSize: 'var(--text-xs)' }}>
    ë¹„ì›Œë‘ë©´ Epic ì„¤ëª… ì—†ì´ ìƒì„±ë©ë‹ˆë‹¤
  </small>

  {/* í‘œ ìë™ ì‚½ì… í† ê¸€ */}
  <div style={{ marginTop: '0.75rem' }}>
    <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>
      <input
        type="checkbox"
        checked={jiraEpicTableEnabled}
        onChange={(e) => setJiraEpicTableEnabled(e.target.checked)}
      />
      <span style={{ fontSize: 'var(--text-sm)' }}>ìŠ¤ì¼€ì¤„ í‘œ ìë™ ì‚½ì…</span>
    </label>
  </div>

  {/* í…Œì´ë¸” ì„ íƒ ë¼ë””ì˜¤ (í† ê¸€ ONì¼ ë•Œë§Œ) */}
  {jiraEpicTableEnabled && (
    <div style={{ marginTop: '0.5rem', paddingLeft: '1.5rem', display: 'flex', gap: '1rem' }}>
      {(['table1', 'table2', 'table3'] as const).map((t) => (
        <label key={t} style={{ display: 'flex', alignItems: 'center', gap: '0.25rem', cursor: 'pointer', fontSize: 'var(--text-sm)' }}>
          <input
            type="radio"
            name="epicTableType"
            value={t}
            checked={jiraEpicTableType === t}
            onChange={() => setJiraEpicTableType(t)}
          />
          {t === 'table1' ? 'T1 (Standard)' : t === 'table2' ? 'T2 (Ext.)' : 'T3 (Int.)'}
        </label>
      ))}
    </div>
  )}
</div>
```

**Step 5: Playwrightë¡œ UI í™•ì¸**

ë¸Œë¼ìš°ì €ì—ì„œ ì„¤ì • > í”„ë¡œì íŠ¸ > í¸ì§‘ ì—´ì–´ì„œ:
- Epic Description textarea í‘œì‹œ í™•ì¸
- í‘œ ìë™ ì‚½ì… í† ê¸€ + ë¼ë””ì˜¤ ë™ì‘ í™•ì¸
- ì €ì¥/ë¡œë“œ ì •ìƒ ë™ì‘ í™•ì¸

**Step 6: ì»¤ë°‹**

```bash
git add src/components/ProjectEditModal.tsx
git commit -m "feat: add Epic Description template and table insertion UI"
```

---

## Task 8: ADF í…Œì´ë¸” í¬ë§·í„° â€” ìŠ¤ì¼€ì¤„ ë°ì´í„° â†’ í…ìŠ¤íŠ¸ ë§ˆí¬ì—… ë³€í™˜

**Files:**
- Create: `src/lib/jira/scheduleTableFormatter.ts`

**Step 1: ìŠ¤ì¼€ì¤„ í…Œì´ë¸” â†’ ADF í…ìŠ¤íŠ¸ ë§ˆí¬ì—… ë³€í™˜ í•¨ìˆ˜ ì‘ì„±**

```typescript
/**
 * ìŠ¤ì¼€ì¤„ í…Œì´ë¸” ADF í…ìŠ¤íŠ¸ ë§ˆí¬ì—… ìƒì„±
 * CalculationResultì˜ í…Œì´ë¸” ì—”íŠ¸ë¦¬ë¥¼ ADF í…Œì´ë¸” ë§ˆí¬ì—… ë¬¸ìì—´ë¡œ ë³€í™˜
 *
 * v1.2: Epic Descriptionì— í‘œ ìë™ ì‚½ì…
 */

import type { ScheduleEntry, CalculationResult } from '../../types';
import { formatTableDate } from '../businessDays';

/**
 * í…Œì´ë¸” íƒ€ì…ë³„ ì—”íŠ¸ë¦¬ ì¶”ì¶œ (children í‰íƒ„í™”)
 */
function getEntries(calcResult: CalculationResult, tableType: 'table1' | 'table2' | 'table3'): ScheduleEntry[] {
  const entries = tableType === 'table1'
    ? calcResult.table1Entries
    : tableType === 'table2'
      ? calcResult.table2Entries
      : calcResult.table3Entries;

  // children í‰íƒ„í™”
  const flat: ScheduleEntry[] = [];
  entries.forEach(entry => {
    flat.push(entry);
    if (entry.children) {
      entry.children.forEach(child => flat.push(child));
    }
  });
  return flat;
}

/**
 * ScheduleEntry[] â†’ ADF í…Œì´ë¸” ë§ˆí¬ì—… ë¬¸ìì—´
 * T1: ||#|ë°°ì¹˜ëª…|ë§ˆê°|í…Œì´ë¸”ì „ë‹¬|ì„¤ëª…|ë‹´ë‹¹ì||
 * T2/T3: ||#|ë°°ì¹˜ëª…|HO|HB|ì„¤ëª…||
 */
export function formatScheduleTableForADF(
  calcResult: CalculationResult,
  tableType: 'table1' | 'table2' | 'table3'
): string {
  const entries = getEntries(calcResult, tableType);
  if (entries.length === 0) return '';

  const lines: string[] = [];

  // í—¤ë”
  if (tableType === 'table1') {
    lines.push('||#|ë°°ì¹˜ëª…|ë§ˆê°|í…Œì´ë¸”ì „ë‹¬|ì„¤ëª…|ë‹´ë‹¹ì||');
  } else {
    lines.push('||#|ë°°ì¹˜ëª…|HO|HB|ì„¤ëª…||');
  }

  // ë°ì´í„° í–‰
  let parentIdx = 0;
  entries.forEach(entry => {
    const isChild = entry.parentId != null;
    if (!isChild) parentIdx++;

    const idx = isChild
      ? `${parentIdx}.${entry.index}`
      : String(parentIdx);

    const stageName = isChild ? `ã„´ ${entry.stageName}` : entry.stageName;
    const start = formatTableDate(entry.startDateTime);
    const end = formatTableDate(entry.endDateTime);
    const desc = (entry.description || '').replace(/\n/g, ' ').replace(/\|/g, '\\|');

    if (tableType === 'table1') {
      const assignee = (entry.assignee || '').replace(/\|/g, '\\|');
      lines.push(`|${idx}|${stageName}|${start}|${end}|${desc}|${assignee}|`);
    } else {
      lines.push(`|${idx}|${stageName}|${start}|${end}|${desc}|`);
    }
  });

  return lines.join('\n');
}
```

**Step 2: ì»¤ë°‹**

```bash
git add src/lib/jira/scheduleTableFormatter.ts
git commit -m "feat: add schedule table ADF formatter for epic description"
```

---

## Task 9: useJiraOperations â€” Epic Description ìƒì„± ë¡œì§

**Files:**
- Modify: `src/hooks/useJiraOperations.ts`

**Step 1: import ì¶”ê°€**

```typescript
import { formatScheduleTableForADF } from '../lib/jira/scheduleTableFormatter';
import { applyTemplate } from '../lib/jira/templates';
```

**Step 2: Epic Description ìƒì„± (epicSummary ìƒì„± ì§í›„)**

ë¼ì¸ 156 (epicSummary ìƒì„±) ë’¤ì— ì¶”ê°€:

```typescript
      // v1.2: Epic Description ìƒì„± (í…œí”Œë¦¿ + í‘œ ìë™ ì‚½ì…)
      let epicDescription: string | undefined;
      if (currentProject.jiraEpicDescription) {
        epicDescription = applyTemplate(currentProject.jiraEpicDescription, { ...vars, taskName: '', stageName: '' });
      }
      if (currentProject.jiraEpicTableEnabled && calculationResult) {
        const tableMarkup = formatScheduleTableForADF(
          calculationResult,
          currentProject.jiraEpicTableType || 'table1'
        );
        if (tableMarkup) {
          epicDescription = epicDescription
            ? `${epicDescription}\n\n${tableMarkup}`
            : tableMarkup;
        }
      }
```

**Step 3: JiraPreviewModalì— ì „ë‹¬í•˜ëŠ” epic ê°ì²´ì— description ì¶”ê°€**

ê¸°ì¡´ epic ê°ì²´:
```typescript
epic: { summary: epicSummary, startDate: ..., endDate: ... }
```

ë³€ê²½:
```typescript
epic: { summary: epicSummary, description: epicDescription, startDate: ..., endDate: ... }
```

**Step 4: Edge Function í˜¸ì¶œë¶€ì—ì„œ epic.description ì „ë‹¬**

JIRA ìƒì„± ìš”ì²­ ì‹œ epic ê°ì²´ì— description í¬í•¨í•˜ì—¬ ì „ë‹¬.

**Step 5: JIRA ì—…ë°ì´íŠ¸ ìš”ì²­ì—ë„ epicDescription ì¶”ê°€**

ì—…ë°ì´íŠ¸ í˜¸ì¶œ ì‹œ ë™ì¼í•œ Epic Description ìƒì„± ë¡œì§ì„ ì ìš©í•˜ì—¬ epicUpdateì— description í¬í•¨.

**Step 6: ì»¤ë°‹**

```bash
git add src/hooks/useJiraOperations.ts
git commit -m "feat: generate epic description with template vars and schedule table"
```

---

## Task 10: jira-create Edge Function â€” Epic Description ì§€ì›

**Files:**
- Modify: `supabase/functions/jira-create/index.ts`

**Step 1: CreateJiraRequest íƒ€ì…ì— description ì¶”ê°€**

ë¼ì¸ 13-17 (epic í•„ë“œ):

```typescript
  epic: {
    summary: string;
    description?: string;  // v1.2: Epic Description (ADF ë§ˆí¬ì—…)
    startDate: string;
    endDate: string;
  };
```

**Step 2: Epic í˜ì´ë¡œë“œì— description í¬í•¨**

ë¼ì¸ 84-93 (epicPayload) ë³€ê²½:

```typescript
    const epicPayload: any = {
      fields: {
        project: { key: projectKey },
        summary: epic.summary,
        issuetype: { name: 'Epic' },
        [CUSTOM_FIELD_START]: epic.startDate,
        [CUSTOM_FIELD_END]: epic.endDate,
      },
    };

    // v1.2: Epic Description (ADF ë³€í™˜)
    if (epic.description) {
      const descriptionADF = textToADF(epic.description);
      if (descriptionADF) {
        epicPayload.fields.description = descriptionADF;
      }
    }
```

**Step 3: ë°°í¬**

```bash
supabase functions deploy jira-create --no-verify-jwt
```

**Step 4: ì»¤ë°‹**

```bash
git add supabase/functions/jira-create/index.ts
git commit -m "feat: support epic description in jira-create edge function"
```

---

## Task 11: jira-update Edge Function â€” Epic Description ì—…ë°ì´íŠ¸

**Files:**
- Modify: `supabase/functions/jira-update/index.ts`

**Step 1: UpdateJiraRequestì— epicDescription ì¶”ê°€**

ë¼ì¸ 13-16 (epicUpdate):

```typescript
  epicUpdate: {
    startDate: string;
    endDate: string;
    description?: string;  // v1.2: Epic Description (ADF ë§ˆí¬ì—…)
  };
```

**Step 2: Epic ì—…ë°ì´íŠ¸ í˜ì´ë¡œë“œì— description í¬í•¨**

ë¼ì¸ 77-82 (epicUpdatePayload) ë³€ê²½:

```typescript
    const epicUpdatePayload: any = {
      fields: {
        [CUSTOM_FIELD_START]: epicUpdate.startDate,
        [CUSTOM_FIELD_END]: epicUpdate.endDate,
      },
    };

    // v1.2: Epic Description ì—…ë°ì´íŠ¸
    if (epicUpdate.description) {
      const descriptionADF = textToADF(epicUpdate.description);
      if (descriptionADF) {
        epicUpdatePayload.fields.description = descriptionADF;
      }
    }
```

**Step 3: ë°°í¬**

```bash
supabase functions deploy jira-update --no-verify-jwt
```

**Step 4: ì»¤ë°‹**

```bash
git add supabase/functions/jira-update/index.ts
git commit -m "feat: support epic description update in jira-update edge function"
```

---

## Task 12: ì´ë¯¸ì§€ ë³µì‚¬ ë²„íŠ¼ ì œì™¸

**Files:**
- Modify: `src/components/ScheduleTable.tsx:122-125`
- Modify: `src/components/CalendarView.tsx:105-112`
- Modify: `src/components/GanttChart.tsx:116-119`

**Step 1: ScheduleTable.tsx â€” CopyImageButton ë˜í¼ì— copy-exclude ì¶”ê°€**

ë¼ì¸ 122-125 ë³€ê²½:

```tsx
      <div className="table-header">
        <h3 className="table-title">{title}</h3>
        <div className="copy-exclude">
          <CopyImageButton targetId={tableId} />
        </div>
      </div>
```

**Step 2: CalendarView.tsx â€” ë™ì¼ ì²˜ë¦¬**

ë¼ì¸ 105-112 ë³€ê²½:

```tsx
      <div className="calendar-header">
        <h3>ë‹¬ë ¥ ë³´ê¸°</h3>
        <div className="copy-exclude">
          <CopyImageButton
            targetId="calendar-view"
            onSuccess={handleCopySuccess}
            onError={handleCopyError}
          />
        </div>
      </div>
```

**Step 3: GanttChart.tsx â€” ë™ì¼ ì²˜ë¦¬**

ë¼ì¸ 116-119 ë³€ê²½:

```tsx
      <div className="gantt-header">
        <h4>ê°„íŠ¸ ì°¨íŠ¸</h4>
        <div className="copy-exclude">
          <CopyImageButton targetId={containerId} />
        </div>
      </div>
```

**Step 4: Playwrightë¡œ í…ŒìŠ¤íŠ¸**

1. í…Œì´ë¸” ì´ë¯¸ì§€ ë³µì‚¬ â†’ ë¶™ì—¬ë„£ê¸°í•˜ì—¬ ë²„íŠ¼ì´ í¬í•¨ë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸
2. ìº˜ë¦°ë” ì´ë¯¸ì§€ ë³µì‚¬ â†’ ë™ì¼ í™•ì¸
3. ê°„íŠ¸ ì°¨íŠ¸ ì´ë¯¸ì§€ ë³µì‚¬ â†’ ë™ì¼ í™•ì¸

**Step 5: ì»¤ë°‹**

```bash
git add src/components/ScheduleTable.tsx src/components/CalendarView.tsx src/components/GanttChart.tsx
git commit -m "fix: exclude copy image button from captured images"
```

---

## Task 13: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ë¹Œë“œ ê²€ì¦

**Step 1: ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰**

```bash
npm test -- --run
```

Expected: ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ (ê¸°ì¡´ + ì‹ ê·œ)

**Step 2: íƒ€ì… ì²´í¬**

```bash
npm run typecheck
```

Expected: ì—ëŸ¬ ì—†ìŒ

**Step 3: í”„ë¡œë•ì…˜ ë¹Œë“œ**

```bash
npm run build
```

Expected: ë¹Œë“œ ì„±ê³µ

**Step 4: dev ì„œë²„ì—ì„œ E2E ìˆ˜ë™ ê²€ì¦**

```bash
npm run dev
```

ì²´í¬ë¦¬ìŠ¤íŠ¸:
- [ ] ì„¤ì • > í”„ë¡œì íŠ¸ í¸ì§‘ > Epic Description í•„ë“œ í‘œì‹œ/ì €ì¥/ë¡œë“œ
- [ ] ì„¤ì • > í”„ë¡œì íŠ¸ í¸ì§‘ > í‘œ ìë™ ì‚½ì… í† ê¸€ + ë¼ë””ì˜¤ ë™ì‘
- [ ] JIRA ìƒì„± ì‹œ Epic Descriptionì— ë³€ìˆ˜ ì¹˜í™˜ + í‘œ ì‚½ì… í™•ì¸
- [ ] JIRA ì—…ë°ì´íŠ¸ ì‹œ Epic Description ê°±ì‹  í™•ì¸
- [ ] ì´ë©”ì¼ ìƒì„± ì‹œ ìƒˆ ë³€ìˆ˜ ({headsUpFull} ë“±) ì •ìƒ ì¹˜í™˜
- [ ] ì´ë¯¸ì§€ ë³µì‚¬ ì‹œ ë²„íŠ¼ ë¯¸í¬í•¨ í™•ì¸ (í…Œì´ë¸”, ìº˜ë¦°ë”, ê°„íŠ¸)

---

## Task 14: user-manual.html ìµœì‹ í™”

**Files:**
- Modify: `public/user-manual.html`

**Step 1: ì´ë©”ì¼ í…œí”Œë¦¿ ë³€ìˆ˜ í…Œì´ë¸” ì—…ë°ì´íŠ¸ (ë¼ì¸ 748-762)**

ê¸°ì¡´ ë³€ìˆ˜ í…Œì´ë¸”ì„ í†µí•© ë³€ìˆ˜ ì²´ê³„ë¡œ êµì²´:

```html
<table>
  <thead>
    <tr><th>ë³€ìˆ˜</th><th>ì„¤ëª…</th><th>í˜•ì‹</th><th>ì˜ˆì‹œ</th></tr>
  </thead>
  <tbody>
    <tr><td><code>{updateDate}</code></td><td>ì—…ë°ì´íŠ¸ ë‚ ì§œ</td><td>MMDD</td><td>0210</td></tr>
    <tr><td><code>{updateDateDay}</code></td><td>ì—…ë°ì´íŠ¸ ë‚ ì§œ</td><td>MM/DD(ìš”ì¼)</td><td>02/10(ì›”)</td></tr>
    <tr><td><code>{updateDateFull}</code></td><td>ì—…ë°ì´íŠ¸ ë‚ ì§œ</td><td>YY/MM/DD</td><td>26/02/10</td></tr>
    <tr><td><code>{headsUp}</code></td><td>í—¤ì¦ˆì—… ë‚ ì§œ</td><td>MMDD</td><td>0128</td></tr>
    <tr><td><code>{headsUpDay}</code></td><td>í—¤ì¦ˆì—… ë‚ ì§œ</td><td>MM/DD(ìš”ì¼)</td><td>01/28(í™”)</td></tr>
    <tr><td><code>{headsUpFull}</code></td><td>í—¤ì¦ˆì—… ë‚ ì§œ</td><td>YY/MM/DD</td><td>26/01/28</td></tr>
    <tr><td><code>{iosReviewDate}</code></td><td>iOS ì‹¬ì‚¬ì¼</td><td>MMDD</td><td>0203</td></tr>
    <tr><td><code>{iosReviewDateDay}</code></td><td>iOS ì‹¬ì‚¬ì¼</td><td>MM/DD(ìš”ì¼)</td><td>02/03(í™”)</td></tr>
    <tr><td><code>{iosReviewDateFull}</code></td><td>iOS ì‹¬ì‚¬ì¼</td><td>YY/MM/DD</td><td>26/02/03</td></tr>
    <tr><td><code>{paidProductDate}</code></td><td>ìœ ë£Œí™” ìƒí’ˆ í˜‘ì˜</td><td>MMDD</td><td>0301</td></tr>
    <tr><td><code>{paidProductDateDay}</code></td><td>ìœ ë£Œí™” ìƒí’ˆ í˜‘ì˜</td><td>MM/DD(ìš”ì¼)</td><td>03/01(ìˆ˜)</td></tr>
    <tr><td><code>{paidProductDateFull}</code></td><td>ìœ ë£Œí™” ìƒí’ˆ í˜‘ì˜</td><td>YY/MM/DD</td><td>26/03/01</td></tr>
    <tr><td><code>{projectName}</code></td><td>í”„ë¡œì íŠ¸ ì´ë¦„</td><td>í…ìŠ¤íŠ¸</td><td>M4/GL</td></tr>
    <tr><td><code>{table}</code></td><td>ìŠ¤ì¼€ì¤„ í…Œì´ë¸” HTML</td><td>HTML</td><td>(í…Œì´ë¸” ë Œë”ë§)</td></tr>
    <tr><td><code>{disclaimer}</code></td><td>í”„ë¡œì íŠ¸ ë©´ì±… ì¡°í•­</td><td>HTML</td><td>(HTML í…ìŠ¤íŠ¸)</td></tr>
  </tbody>
</table>
```

**Step 2: í”„ë¡œì íŠ¸ ê´€ë¦¬ ì„¹ì…˜ì— ì‹ ê·œ ì„¤ì • ì•ˆë‚´ ì¶”ê°€ (ë¼ì¸ 795-801 ê·¼ì²˜)**

JIRA ì„¤ì • í•­ëª©ì— ì¶”ê°€:

```html
<li><strong>JIRA ì„¤ì •</strong> (ì„ íƒ):
  <ul>
    <li>í”„ë¡œì íŠ¸ í‚¤ (ì˜ˆ: L10NM4)</li>
    <li>Epic/Headsup Summary í…œí”Œë¦¿</li>
    <li><strong>Epic Description í…œí”Œë¦¿</strong> <span class="badge badge-new">v1.2</span>: Epic ì¼ê° ì„¤ëª… (ë³€ìˆ˜ ì¹˜í™˜ + ADF ë§ˆí¬ì—…)</li>
    <li><strong>ìŠ¤ì¼€ì¤„ í‘œ ìë™ ì‚½ì…</strong> <span class="badge badge-new">v1.2</span>: T1/T2/T3 ì„ íƒ í›„ Epic ì„¤ëª…ì— ìë™ ì‚½ì…</li>
    <li>Task Issue Type</li>
  </ul>
</li>
```

**Step 3: ì´ë¯¸ì§€ ë³µì‚¬ ì„¹ì…˜ ì—…ë°ì´íŠ¸ (ë¼ì¸ 611-624)**

ë²„íŠ¼ ì œì™¸ ê´€ë ¨ ì•ˆë‚´ ì¶”ê°€:

```html
<div class="callout callout-tip">
  <strong>ğŸ’¡ íŒ</strong>
  ì´ë¯¸ì§€ ë³µì‚¬ ì‹œ "ì´ë¯¸ì§€ ë³µì‚¬" ë²„íŠ¼ì€ ìë™ìœ¼ë¡œ ì œì™¸ë©ë‹ˆë‹¤. ë³µì‚¬ëœ ì´ë¯¸ì§€ì—ëŠ” í…Œì´ë¸”/ì°¨íŠ¸ ë‚´ìš©ë§Œ í¬í•¨ë©ë‹ˆë‹¤.
</div>
```

**Step 4: ë²„ì „ ì •ë³´ ì—…ë°ì´íŠ¸ (ë¼ì¸ 1243)**

```html
<p>Azrael ì‚¬ìš©ì ë§¤ë‰´ì–¼ v5.1 | 2026-02-26 | v1.2 í†µí•© ë³€ìˆ˜, Epic Description, ì´ë¯¸ì§€ ë³µì‚¬ ìˆ˜ì •</p>
```

**Step 5: ë³€ìˆ˜ í‘œê¸°ë²• í†µì¼**

ë¬¸ì„œ ì „ì²´ì—ì„œ `{{ë³€ìˆ˜}}` í‘œê¸°ë¥¼ `{ë³€ìˆ˜}` (ë‹¨ì¼ ì¤‘ê´„í˜¸)ë¡œ í†µì¼. ì¡°ê±´ë¶€ ë¸”ë¡ `{{#if}}...{{/if}}`ë§Œ ì´ì¤‘ ì¤‘ê´„í˜¸ ìœ ì§€.

**Step 6: ì»¤ë°‹**

```bash
git add public/user-manual.html
git commit -m "docs: update user manual for v1.2 features"
```

---

## Task 15: ìµœì¢… ì»¤ë°‹ ë° ë°°í¬

**Step 1: ì „ì²´ í…ŒìŠ¤íŠ¸ ì¬í™•ì¸**

```bash
npm test -- --run && npm run typecheck && npm run build
```

**Step 2: Vercel ë°°í¬ í™•ì¸**

```bash
git push
```

Vercel ìë™ ë°°í¬ íŠ¸ë¦¬ê±°.

**Step 3: Edge Functions ë°°í¬**

```bash
supabase functions deploy jira-create --no-verify-jwt
supabase functions deploy jira-update --no-verify-jwt
```
